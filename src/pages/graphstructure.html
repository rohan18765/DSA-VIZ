<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Graph Structure Visualization - DSA VIZ</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <style>
    body { font-family: "Inter", sans-serif; }

    /* Smooth fade for matrix cell updates */
    .cell-update { animation: highlight 1s ease-out; }

    @keyframes highlight {
      0% { background-color: #cbd5e1; transform: scale(1.08); }
      100% { background-color: transparent; transform: scale(1); }
    }
  </style>
</head>

<body class="bg-slate-50 text-slate-800 flex flex-col h-screen">

  <!-- HEADER -->
  <header class="bg-white/80 backdrop-blur-md shadow-sm border-b border-slate-200 z-10">
    <div class="container mx-auto px-6 py-3 flex justify-between items-center">
      
      <a href="../index.html" class="flex items-center gap-2 group">
        <div class="bg-slate-800 text-white p-1.5 rounded-lg group-hover:bg-slate-900 transition">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
          </svg>
        </div>

        <span class="text-lg font-bold text-slate-700 group-hover:text-slate-900 transition">
          Back to Home
        </span>
      </a>

      <h1 class="text-xl font-extrabold text-slate-800 tracking-tight">
        Graph Representation Visualizer
      </h1>
    </div>
  </header>

  <!-- MAIN -->
  <main class="flex-1 flex flex-col md:flex-row overflow-hidden">


    <!-- CANVAS -->
    <div id="canvas-container"
         onclick="handleCanvasClick(event)"
         class="flex-1 relative bg-gradient-to-br from-slate-100 via-slate-50 to-white overflow-hidden cursor-crosshair">

      <div
        class="absolute top-4 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur-md border border-slate-200 px-4 py-2 rounded-full shadow-lg text-sm text-slate-500 pointer-events-none select-none z-30">
        Click to add nodes • Select "Connect" to link them
      </div>

      <svg id="edge-svg" class="absolute inset-0 w-full h-full z-0 pointer-events-none"></svg>

      <div id="node-layer" class="absolute inset-0 w-full h-full z-10 pointer-events-none"></div>
    </div>

    <!-- SIDEBAR (BIGGER) -->
   <aside
   class="w-full md:w-[28rem] lg:w-[34rem] xl:w-[40rem]
         bg-white/95 backdrop-blur border-l md:border-l border-t md:border-t-0
         shadow-2xl flex flex-col">


      <!-- CONTROLS -->
      <div class="p-5 border-b border-slate-100 space-y-3">

        <div class="grid grid-cols-2 gap-2">
          <button id="btn-node"
                  onclick="setMode('node')"
                  class="bg-slate-900 text-white py-2 rounded-lg text-sm font-semibold shadow-md hover:shadow-lg active:scale-95 transition ring-2 ring-slate-500">
            + Add Node
          </button>

          <button id="btn-edge"
                  onclick="setMode('edge')"
                  class="bg-white text-slate-700 border border-slate-300 py-2 rounded-lg text-sm font-semibold hover:bg-slate-50 active:scale-95 transition">
            Connect Edge
          </button>
        </div>

        <button onclick="clearGraph()"
                class="block text-right w-full text-xs text-slate-400 hover:text-red-500 transition underline">
          Clear Graph
        </button>
      </div>

      <!-- CONTENT -->
      <div class="flex-1 overflow-y-auto p-6 space-y-10">

        <!-- MATRIX -->
        <section>
          <div class="flex justify-between items-end mb-3">
            <h3 class="text-sm font-semibold uppercase text-slate-600 tracking-wide">
              Adjacency Matrix
            </h3>
            <span class="text-[10px] text-slate-400">Space: O(V²)</span>
          </div>

          <div class="overflow-x-auto bg-white border border-slate-200 rounded-2xl shadow-inner p-3">
            <table id="matrix-table" class="w-full text-center text-xs font-mono border-collapse">
              <tr>
                <td class="text-slate-400 italic py-6">
                  Add nodes to see matrix
                </td>
              </tr>
            </table>
          </div>

          <p class="text-[10px] text-slate-400 mt-2 italic">
            Cell (i, j) is 1 if an edge exists — otherwise 0.
          </p>
        </section>

        <!-- LIST -->
        <section>
          <div class="flex justify-between items-end mb-3">
            <h3 class="text-sm font-semibold uppercase text-slate-600 tracking-wide">
              Adjacency List
            </h3>
            <span class="text-[10px] text-slate-400">Space: O(V + E)</span>
          </div>

          <div id="list-container"
               class="bg-white border border-slate-200 rounded-2xl shadow-sm p-4 min-h-[120px] space-y-2">
            <div class="text-center text-slate-400 text-xs italic py-4">
              Graph is empty
            </div>
          </div>
        </section>

      </div>
    </aside>
  </main>

  <script src="../algorithms/graphs/graphstructure.js"></script>

</body>
</html>
